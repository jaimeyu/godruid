syntax = "proto3";

package gathergrpc;

message Event {
  string unit = 1;
  string type = 2;
  float upperBound = 3;
  float lowerBound = 4;
  bool upperStrict = 5;
  bool lowerStrict = 6;
}

message MetricData {
  string direction = 1;
  repeated Event events = 2;
}

message Metric {
  string id = 1;
  repeated MetricData data = 2;
}

message Threshold {
  repeated Metric metrics = 1;
}

message ThresholdProfile {
  Threshold twamp = 1;
}

message ThresholdCrossingResult {
  float total = 1;
  float minorPercent = 2;
  float minorRatio = 3;
  float minorThreshold = 4;
  float majorThreshold = 5;
  float criticalRatio = 6;
  float criticalThreshold = 7;
  float criticalPercent = 8;
  float majorPercent = 9;
  float majorRatio = 10;
}

message ThresholdCrossing {
  string timestamp = 1;
  ThresholdCrossingResult result = 2;
}

message ThresholdCrossingResponse {
   repeated ThresholdCrossing data = 1;
}

message ThresholdCrossingRequest {
  string thresholdProfileName = 1;
  string interval = 2;
  string tenant = 3;
  string domain = 4;
  string granularity = 5;
  string objectType = 6;
  string direction = 7;
  string metric = 8;
} 